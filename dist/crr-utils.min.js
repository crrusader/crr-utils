/*!
  * crr-utils v1.1.0
  * (c) 2018 crr
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.S={})}(this,function(exports){"use strict";var inBrowser="undefined"!=typeof window,inWeex="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,weexPlatform=inWeex&&WXEnvironment.platform.toLowerCase(),UA=UA&&inBrowser&&window.navigator.userAgent.toLowerCase(),isMobile=UA&&!!UA.match(/AppleWebKit.*Mobile.*/),hasTouch=UA&&!!UA.match(/AppleWebKit.*Mobile.*/),isIE=UA&&/msie|trident/.test(UA),isIE9=UA&&0<UA.indexOf("msie 9.0"),isEdge=UA&&0<UA.indexOf("edge/"),isAndroid=UA&&0<UA.indexOf("android")||"android"===weexPlatform,isIOS=UA&&/iphone|ipad|ipod|ios/.test(UA)||"ios"===weexPlatform,isChrome=UA&&/chrome\/\d+/.test(UA)&&!isEdge,isIPhone=UA&&-1<UA.indexOf("iPhone"),isPad=UA&&-1<UA.indexOf("iPad"),isWebApp=UA&&-1==UA.indexOf("Safari"),mousedown=hasTouch?"touchstart":"mousedown",mousemove=hasTouch?"touchmove":"mousemove",mouseup=hasTouch?"touchend":"mouseup",hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},toStringType=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isArrayLike=function(e){return e&&"object"==typeof e&&isFinite(e.length)&&0<=e.length&&e.length===Math.floor(e.length)&&e.length<4294967296},isArray=function(e){return"array"===toStringType(e)},each=function(e,t){if(e)if(isArrayLike(e))for(var r=0,n=e.length;r<n&&!1!==t(e[r],r,e);r++);else for(var o=Object.keys(e),i=0,a=o.length;i<a&&!1!==t(e[o[i]],o[i],e);i++);},encode=function(e){return encodeURIComponent(e)},decode=function(e){return decodeURIComponent(e)},querystring=(q=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},{stringify:function(r,n,o,e){return n=n||"&",o=o||"=",null===r&&(r=void 0),"object"==typeof r?Object.keys(r).map(function(e){var t=encode(q(e))+o;return"array"===toStringType(r[e])?r[e].map(function(e){return t+encode(q(e))}).join(n):t+encode(q(r[e]))}).join(n):e?encode(q(e))+o+encode(q(r)):""},parse:function(e,t,r,n){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s=e.length;0<a&&a<s&&(s=a);for(var u=0;u<s;++u){var d,p,c,f,g=e[u].replace(i,"%20"),m=g.indexOf(r);p=0<=m?(d=g.substr(0,m),g.substr(m+1)):(d=g,""),c=decode(d),f=decode(p),hasOwnProperty(o,c)?"array"===toStringType(o[c])?o[c].push(f):o[c]=[o[c],f]:o[c]=f}return o}}),q,debounce=function(n,o,e){var i,a,s,u,d,p,c=0,f=!1,g=!1,t=!0;if("function"===!toStringType(n))throw new TypeError("Expected a function");function m(e){var t=i,r=a;return i=a=void 0,c=e,u=n.apply(r,t)}function l(e){var t=e-p;return void 0===p||o<=t||t<0||g&&s<=e-c}function h(){var e,t,r,n=new Date;if(l(n))return x(n);d=setTimeout(h,(t=(e=n)-c,r=o-(e-p),g?Math.min(r,s-t):r))}function x(e){return d=void 0,t&&i?m(e):(i=a=void 0,u)}function r(){var e,t=new Date,r=l(t);if(i=arguments,a=this,p=t,r){if(void 0===d)return c=e=p,d=setTimeout(h,o),f?m(e):u;if(g)return d=setTimeout(h,o),m(p)}return void 0===d&&(d=setTimeout(h,o)),u}return o=Number(o),o=isNaN(o)?300:o,"object"===toStringType(e)&&(f=!!e.leading,s=(g="maxWait"in e)?Math.max(Number(e.maxWait)||0,o):s,t="trailing"in e?!!e.trailing:t),r.cancel=function(){void 0!==d&&clearTimeout(d),i=p=a=d=void(c=0)},r.flush=function(){return void 0===d?u:x(new Date)},r},throttle=function(e,t,r){var n=!0,o=!0;t=void 0!==t?t:300;if("function"===!toStringType(e))throw new TypeError("Expected a function");return"object"===toStringType(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),debounce(e,t,{leading:n,maxWait:t,trailing:o})},supportCss3=function(t){var r=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},n=[r(t)],o=document.documentElement.style,i=!1;return each(["webkit","Moz","ms","o"],function(e){n.push(r(e+"-"+t))}),each(n,function(e){if(e in o)return!(i=!0)}),i},allowTransition=inBrowser&&supportCss3("transition"),allowAnimation=inBrowser&&supportCss3("animation"),getWindowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},getWindowHeight=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getTypeArg=function(e,t,r){return each(e,function(e){if(-1<t.indexOf(toStringType(e)))return r=e,!1}),r},nextFrame=(Sa=inBrowser&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,function(e){return Sa(function(){Sa(e)})}),Sa,trim=function(e){return null==e?"":(e+"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},privatePhone=function(e){return(""+e).replace(/^(\d{3})\d{4}(\d{4})$/g,"$1****$2")},repeat=function(e,t){return(t=parseInt(t)||0)?new Array(t+2).join(String(e)):""},padStart=function(e,t,r){return new Array(t-String(e).length+1).join(String(r))+e},padEnd=function(e,t,r){return String(e)+new Array(t-String(e).length+1).join(String(r))},arrayToObj=function(e){var t={};return each(e,function(e){t[e[0]]=e[1]}),t},toArrayData=function(r,n,e,t){var o=void 0!==t?[t]:[];return"object"===toStringType(e)?each(e,function(e,t){o.push(arrayToObj([[r,String(t)],[n,e]]))}):"array"===toStringType(e)&&each(e,function(e){"object"===toStringType(e)?o.push(JSON.parse(JSON.stringify(e))):o.push(arrayToObj([[r,String(e)],[n,e]]))}),o},formatDate=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t="YYYY-MM-DD HH:mm"),!e)return"";var r=toStringType(e);"date"!==r&&(e="number"===r?new Date(parseInt(e)):new Date(String(e)));var n={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};return/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"/u661f/u671f":"/u5468":"")+{0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"}[e.getDay()+""])),Object.keys(n).forEach(function(e){new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[e]:("0".repeat(RegExp.$1.length)+n[e]).substr((""+n[e]).length)))}),t},formatDateRange=function(e,t,r,n){return void 0===r&&(r="YYYY-MM-DD HH:mm"),void 0===n&&(n="HH:mm"),e&&t?formatDate(e,r)+" ~ "+formatDate(t,n):""},stringToArray=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=/,|\uff0c/g),(""+e).trim().split(t).filter(function(e){return""!==e})},getRandom=function(e){for(var t="",r=0;r<e;r++)t+=Math.floor(10*Math.random());return t},cookie={params:{path:"",domain:"",secure:""},set:function(e,t,r,n){if(void 0!==t){var o;n=assign({},cookie.params,n);return"number"===toStringType(r)&&(o=new Date).setTime(+o+864e5*r),document.cookie=[encode(e),"=",encode(t),o?"; expires="+o.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+("function"===toStringType(n.domain)?n.domain(e):n.domain):"",n.secure?"; secure":""].join("")}},get:function(n){var o=void 0;return each(document.cookie?document.cookie.split("; "):[],function(e){var t=e.split("="),r=t.shift();if(r&&r===encode(n))return o=decode(t.join("=")),!1}),o},remove:function(e,t){cookie.set(e,"",-1,assign({},t))},removeAll:function(t){each(document.cookie.match(/[^ =;]+(?=\=)/g),function(e){cookie.remove(decode(e),t)})}},formatMoney=function(e,t,r,n){e=e||0,t=isNaN(t=Math.abs(t))?2:t,r=r||",",n=n||".";var o=e<0?"-":"",i=parseInt(e=Math.abs(+e||0).toFixed(t),10)+"",a=3<(a=i.length)?a%3:0;return o+(a?i.substr(0,a)+r:"")+i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?n+Math.abs(e-i).toFixed(t).slice(2):"")},regExp={isNumber:function(e){return/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/g.test(e)},isPhone:function(e){return/^1((3|4|5|7|8){1}\d{1}|70)\d{8}$/g.test(e)},isEmail:function(e){return/^[A-Za-z0-9_-]+@[a-zA-Z0-9_-]+(\.)?[A-Za-z0-9_-]+\.(com|cn)$/g.test(e)},isUrl:function(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},isDate:function(e){return!/Invalid|NaN/.test(new Date(e).toString())},isDateISO:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/g.test(e)},isDigits:function(e){return/^\d+$/.test(e)}},getMaxZindex=function(e,t){var r=null;return e=e||"*",t=Math.max(1,parseInt(t)||1),"string"===toStringType(e)?r=document.querySelectorAll(e):isArrayLike(e)?r=e:e instanceof HTMLElement&&(r=[e]),Math.max.apply(null,[t].concat(Array.prototype.slice.call(r||[]).map(function(e){return parseInt(e.style.zIndex)||1})))},resizeInit=inBrowser&&function(){var resizeObj={};return window.addEventListener("resize",debounce(function(){var w=getWindowWidth();each(resizeObj,function(obj,reg){var thisFlag=eval(reg);obj.flag!==thisFlag&&(obj.flag=thisFlag)&&each(obj.arr,function(e){e()})})})),function(reg){reg=reg.replace(/\s/g,"");var w=getWindowWidth(),obj=resizeObj[reg]=resizeObj[reg]||{flag:eval(reg),arr:[]};return function(e,t){t=void 0===t||!!t,obj.flag&&t&&e(),obj.arr.push(e)}}}(),loadImage=function(e,t){var r=new Image;r.onload=t,r.src=e},downloadFile=function(e,t,r){var n=new Blob([e],{type:t}),o=document.createElement("a"),i=window.URL.createObjectURL(n);o.href=i,o.download=r,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)},index={inBrowser:inBrowser,inWeex:inWeex,weexPlatform:weexPlatform,UA:UA,isMobile:isMobile,hasTouch:hasTouch,isIE:isIE,isIE9:isIE9,isEdge:isEdge,isAndroid:isAndroid,isIOS:isIOS,isChrome:isChrome,isIPhone:isIPhone,isPad:isPad,isWebApp:isWebApp,mousedown:mousedown,mousemove:mousemove,mouseup:mouseup,hasOwnProperty:hasOwnProperty,toStringType:toStringType,isArrayLike:isArrayLike,isArray:isArray,each:each,encode:encode,decode:decode,querystring:querystring,debounce:debounce,throttle:throttle,supportCss3:supportCss3,allowTransition:allowTransition,allowAnimation:allowAnimation,getWindowWidth:getWindowWidth,getWindowHeight:getWindowHeight,getTypeArg:getTypeArg,nextFrame:nextFrame,trim:trim,privatePhone:privatePhone,repeat:repeat,padStart:padStart,padEnd:padEnd,arrayToObj:arrayToObj,toArrayData:toArrayData,formatDate:formatDate,formatDateRange:formatDateRange,stringToArray:stringToArray,getRandom:getRandom,cookie:cookie,formatMoney:formatMoney,regExp:regExp,getMaxZindex:getMaxZindex,resizeInit:resizeInit,loadImage:loadImage,downloadFile:downloadFile};exports.inBrowser=inBrowser,exports.inWeex=inWeex,exports.weexPlatform=weexPlatform,exports.UA=UA,exports.isMobile=isMobile,exports.hasTouch=hasTouch,exports.isIE=isIE,exports.isIE9=isIE9,exports.isEdge=isEdge,exports.isAndroid=isAndroid,exports.isIOS=isIOS,exports.isChrome=isChrome,exports.isIPhone=isIPhone,exports.isPad=isPad,exports.isWebApp=isWebApp,exports.mousedown=mousedown,exports.mousemove=mousemove,exports.mouseup=mouseup,exports.hasOwnProperty=hasOwnProperty,exports.toStringType=toStringType,exports.isArrayLike=isArrayLike,exports.isArray=isArray,exports.each=each,exports.encode=encode,exports.decode=decode,exports.querystring=querystring,exports.debounce=debounce,exports.throttle=throttle,exports.supportCss3=supportCss3,exports.allowTransition=allowTransition,exports.allowAnimation=allowAnimation,exports.getWindowWidth=getWindowWidth,exports.getWindowHeight=getWindowHeight,exports.getTypeArg=getTypeArg,exports.nextFrame=nextFrame,exports.trim=trim,exports.privatePhone=privatePhone,exports.repeat=repeat,exports.padStart=padStart,exports.padEnd=padEnd,exports.arrayToObj=arrayToObj,exports.toArrayData=toArrayData,exports.formatDate=formatDate,exports.formatDateRange=formatDateRange,exports.stringToArray=stringToArray,exports.getRandom=getRandom,exports.cookie=cookie,exports.formatMoney=formatMoney,exports.regExp=regExp,exports.getMaxZindex=getMaxZindex,exports.resizeInit=resizeInit,exports.loadImage=loadImage,exports.downloadFile=downloadFile,exports.default=index,Object.defineProperty(exports,"__esModule",{value:!0})});